!function(){var e={184:function(e,t){var s;!function(){"use strict";var a={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var l=typeof s;if("string"===l||"number"===l)e.push(s);else if(Array.isArray(s)&&s.length){var o=i.apply(null,s);o&&e.push(o)}else if("object"===l)for(var n in s)a.call(s,n)&&s[n]&&e.push(n)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(s=function(){return i}.apply(t,[]))||(e.exports=s)}()},573:function(e){"use strict";var t=/["'&<>]/;e.exports=function(e){var s,a=""+e,i=t.exec(a);if(!i)return a;var l="",o=0,n=0;for(o=i.index;o<a.length;o++){switch(a.charCodeAt(o)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}n!==o&&(l+=a.substring(n,o)),n=o+1,l+=s}return n!==o?l+a.substring(n,o):l}}},t={};function s(a){var i=t[a];if(void 0!==i)return i.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,s),l.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.wp.i18n,a=window.wp.blocks,i=window.wp.plugins,l=window.wp.blockEditor,o=window.wp.components,n=window.wp.apiFetch,r=s.n(n);class c extends e.Component{render(){const{className:t,episodeRef:s,episodeId:a,episodes:i,activateEpisode:l}=this.props;return(0,e.createElement)("div",{className:t},"Select podcast Episode",(0,e.createElement)("select",{ref:s,className:"castos-select",defaultValue:a},i.map(((t,s)=>(0,e.createElement)("option",{key:t.id,value:t.id},t.title)))),(0,e.createElement)("button",{className:"button",onClick:l},"Go"))}}var d=c,p=window.React,u=s.n(p),m=s(573),g=s.n(m);function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},M.apply(this,arguments)}function N(e,t){if(null==e)return{};var s,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)s=l[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}function y(e){var t=e.attributes,s=void 0===t?{}:t,a=e.children,i=void 0===a?null:a,l=e.selfClose,o=void 0!==l&&l,n=e.tagName;return o?u().createElement(n,s):u().createElement(n,s,i)}var E=function(){function e(){}var t=e.prototype;return t.attribute=function(e,t){return t},t.node=function(e,t){return t},e}(),D=/(url|image|image-set)\(/i,I=function(e){var t,s;function a(){return e.apply(this,arguments)||this}return s=e,(t=a).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s,a.prototype.attribute=function(e,t){return"style"===e&&Object.keys(t).forEach((function(e){String(t[e]).match(D)&&delete t[e]})),t},a}(E),h={a:{content:9,self:!1,type:105},address:{invalid:["h1","h2","h3","h4","h5","h6","address","article","aside","section","div","header","footer"],self:!1},audio:{children:["track","source"]},br:{type:9,void:!0},body:{content:127},button:{content:8,type:105},caption:{content:1,parent:["table"]},col:{parent:["colgroup"],void:!0},colgroup:{children:["col"],parent:["table"]},details:{children:["summary"],type:97},dd:{content:1,parent:["dl"]},dl:{children:["dt","dd"],type:1},dt:{content:1,invalid:["footer","header"],parent:["dl"]},figcaption:{content:1,parent:["figure"]},footer:{invalid:["footer","header"]},header:{invalid:["footer","header"]},hr:{type:1,void:!0},img:{void:!0},li:{content:1,parent:["ul","ol","menu"]},main:{self:!1},ol:{children:["li"],type:1},picture:{children:["source","img"],type:25},rb:{parent:["ruby","rtc"]},rp:{parent:["ruby","rtc"]},rt:{content:8,parent:["ruby","rtc"]},rtc:{content:8,parent:["ruby"]},ruby:{children:["rb","rp","rt","rtc"]},source:{parent:["audio","video","picture"],void:!0},summary:{content:8,parent:["details"]},table:{children:["caption","colgroup","thead","tbody","tfoot","tr"],type:1},tbody:{parent:["table"],children:["tr"]},td:{content:1,parent:["tr"]},tfoot:{parent:["table"],children:["tr"]},th:{content:1,parent:["tr"]},thead:{parent:["table"],children:["tr"]},tr:{parent:["table","tbody","thead","tfoot"],children:["th","td"]},track:{parent:["audio","video"],void:!0},ul:{children:["li"],type:1},video:{children:["track","source"]},wbr:{type:9,void:!0}};function T(e){return function(t){h[t]=M({},e,h[t])}}["address","main","div","figure","p","pre"].forEach(T({content:1,type:65})),["abbr","b","bdi","bdo","cite","code","data","dfn","em","i","kbd","mark","q","ruby","samp","strong","sub","sup","time","u","var"].forEach(T({content:8,type:73})),["p","pre"].forEach(T({content:8,type:65})),["s","small","span","del","ins"].forEach(T({content:8,type:9})),["article","aside","footer","header","nav","section","blockquote"].forEach(T({content:1,type:67})),["h1","h2","h3","h4","h5","h6"].forEach(T({content:8,type:69})),["audio","canvas","iframe","img","video"].forEach(T({type:89}));var j=Object.freeze(h),b=["applet","base","body","command","embed","frame","frameset","head","html","link","meta","noscript","object","script","style","title"],A=Object.keys(j).filter((function(e){return"canvas"!==e&&"iframe"!==e})),_=Object.freeze({alt:1,cite:1,class:1,colspan:3,controls:4,datetime:1,default:4,disabled:4,dir:1,height:1,href:1,id:1,kind:1,label:1,lang:1,loading:1,loop:4,media:1,muted:4,poster:1,role:1,rowspan:3,scope:1,sizes:1,span:3,start:3,style:5,src:1,srclang:1,srcset:1,target:1,title:1,type:1,width:1}),x=Object.freeze({class:"className",colspan:"colSpan",datetime:"dateTime",rowspan:"rowSpan",srclang:"srcLang",srcset:"srcSet"}),S=/^<(!doctype|(html|head|body)(\s|>))/i,f=/^(aria\x2D|data\x2D|[0-9A-Z_a-z\u017F\u212A]+:)/i,v=/{{{(\w+)\/?}}}/;function z(){if("undefined"!=typeof window&&"undefined"!=typeof document)return document.implementation.createHTMLDocument("Interweave")}var w,C=function(){function e(e,t,s,a){void 0===t&&(t={}),void 0===s&&(s=[]),void 0===a&&(a=[]),this.allowed=void 0,this.banned=void 0,this.blocked=void 0,this.container=void 0,this.content=[],this.props=void 0,this.matchers=void 0,this.filters=void 0,this.keyIndex=void 0,this.props=t,this.matchers=s,this.filters=[].concat(a,[new I]),this.keyIndex=-1,this.container=this.createContainer(e||""),this.allowed=new Set(t.allowList||A),this.banned=new Set(b),this.blocked=new Set(t.blockList)}var t=e.prototype;return t.applyAttributeFilters=function(e,t){return this.filters.reduce((function(t,s){return null!==t&&"function"==typeof s.attribute?s.attribute(e,t):t}),t)},t.applyNodeFilters=function(e,t){return this.filters.reduce((function(t,s){return null!==t&&"function"==typeof s.node?s.node(e,t):t}),t)},t.applyMatchers=function(e,t){var s=this,a={},i=this.props,l=e,o=0,n=null;return this.matchers.forEach((function(e){var r=e.asTag().toLowerCase(),c=s.getTagConfig(r);if(!i[e.inverseName]&&s.isTagAllowed(r)&&s.canRenderChild(t,c)){for(var d="";l&&(n=e.match(l));){var p=n,u=p.index,m=p.length,g=p.match,y=p.valid,E=p.void,D=N(p,["index","length","match","valid","void"]),I=e.propName+o;u>0&&(d+=l.slice(0,u)),y?(d+=E?"{{{"+I+"/}}}":"{{{"+I+"}}}"+g+"{{{/"+I+"}}}",s.keyIndex+=1,o+=1,a[I]={children:g,matcher:e,props:M({},i,D,{key:s.keyIndex})}):d+=g,e.greedy?(l=d+l.slice(u+m),d=""):l=l.slice(u+(m||g.length))}e.greedy||(l=d+l)}})),0===o?e:this.replaceTokens(l,a)},t.canRenderChild=function(e,t){return!(!e.tagName||!t.tagName)&&!e.void&&(e.children.length>0?e.children.includes(t.tagName):!(e.invalid.length>0&&e.invalid.includes(t.tagName))&&(t.parent.length>0?t.parent.includes(e.tagName):!(!e.self&&e.tagName===t.tagName)&&Boolean(e&&e.content&t.type)))},t.convertLineBreaks=function(e){var t=this.props,s=t.noHtml,a=t.disableLineBreaks;if(s||a||e.match(/<((?:\/[ a-z]+)|(?:[ a-z]+\/))>/gi))return e;var i=e.replace(/\r\n/g,"\n");return(i=i.replace(/\n{3,}/g,"\n\n\n")).replace(/\n/g,"<br/>")},t.createContainer=function(e){var t=(s.g.INTERWEAVE_SSR_POLYFILL||z)();if(t){var a=this.props.containerTagName||"body",i="body"===a||"fragment"===a?t.body:t.createElement(a);return e.match(S)||(i.innerHTML=this.convertLineBreaks(this.props.escapeHtml?g()(e):e)),i}},t.extractAttributes=function(e){var t=this,s=this.props.allowAttributes,a={},i=0;return 1===e.nodeType&&e.attributes?(Array.from(e.attributes).forEach((function(l){var o=l.name,n=l.value,r=o.toLowerCase(),c=_[r]||_[o];if(t.isSafe(e)&&(r.match(f)||(s||c&&2!==c)&&!r.match(/^on/)&&!n.replace(/(\s|\0|&#x0([9AD]);)/,"").match(/(javascript|vbscript|livescript|xss):/i))){var d="style"===r?t.extractStyleAttribute(e):n;4===c?d=!0:3===c?d=Number.parseFloat(String(d)):5!==c&&(d=String(d)),a[x[r]||r]=t.applyAttributeFilters(r,d),i+=1}})),0===i?null:a):null},t.extractStyleAttribute=function(e){var t={};return Array.from(e.style).forEach((function(s){var a=e.style[s];"string"!=typeof a&&"number"!=typeof a||(t[s.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))]=a)})),t},t.getTagConfig=function(e){var t={children:[],content:0,invalid:[],parent:[],self:!0,tagName:"",type:0,void:!1};return j[e]?M({},t,j[e],{tagName:e}):t},t.isSafe=function(e){if("undefined"!=typeof HTMLAnchorElement&&e instanceof HTMLAnchorElement){var t=e.getAttribute("href");if(t&&"#"===t.charAt(0))return!0;var s=e.protocol.toLowerCase();return":"===s||"http:"===s||"https:"===s||"mailto:"===s||"tel:"===s}return!0},t.isTagAllowed=function(e){return!this.banned.has(e)&&!this.blocked.has(e)&&(this.props.allowElements||this.allowed.has(e))},t.parse=function(){return this.container?this.parseNode(this.container,this.getTagConfig(this.container.nodeName.toLowerCase())):[]},t.parseNode=function(e,t){var s=this,a=this.props,i=a.noHtml,l=a.noHtmlExceptMatchers,o=a.allowElements,n=a.transform,r=[],c="";return Array.from(e.childNodes).forEach((function(e){if(1===e.nodeType){var a=e.nodeName.toLowerCase(),d=s.getTagConfig(a);c&&(r.push(c),c="");var p,m=s.applyNodeFilters(a,e);if(!m)return;if(n){s.keyIndex+=1;var g=s.keyIndex;p=s.parseNode(m,d);var N=n(m,p,d);if(null===N)return;if(void 0!==N)return void r.push(u().cloneElement(N,{key:g}));s.keyIndex=g-1}if(s.banned.has(a))return;if(i||l&&"br"!==a||!s.isTagAllowed(a)||!o&&!s.canRenderChild(t,d))r=r.concat(s.parseNode(m,d.tagName?d:t));else{s.keyIndex+=1;var E=s.extractAttributes(m),D={tagName:a};E&&(D.attributes=E),d.void&&(D.selfClose=d.void),r.push(u().createElement(y,M({},D,{key:s.keyIndex}),p||s.parseNode(m,d)))}}else if(3===e.nodeType){var I=i&&!l?e.textContent:s.applyMatchers(e.textContent||"",t);Array.isArray(I)?r=r.concat(I):c+=I}})),c&&r.push(c),r},t.replaceTokens=function(e,t){if(!e.includes("{{{"))return e;for(var s=[],a=e,i=null;i=a.match(v);){var l=i,o=l[0],n=l[1],r=i.index,c=o.includes("/");r>0&&(s.push(a.slice(0,r)),a=a.slice(r));var d=t[n],p=d.children,u=d.matcher,m=d.props,g=void 0;if(c)g=o.length,s.push(u.createElement(p,m));else{var M=a.match(new RegExp("{{{/"+n+"}}}"));g=M.index+M[0].length,s.push(u.createElement(this.replaceTokens(a.slice(o.length,M.index),t),m))}a=a.slice(g)}return a.length>0&&s.push(a),0===s.length?"":1===s.length&&"string"==typeof s[0]?s[0]:s},e}();function k(e){var t,s=e.attributes,a=e.containerTagName,i=e.content,l=e.emptyContent,o=e.parsedContent,n=e.tagName,r=a||n||"div",c="fragment"===r||e.noWrap;if(o)t=o;else{var d=new C(i||"",e).parse();d.length>0&&(t=d)}return t||(t=l),c?u().createElement(u().Fragment,null,t):u().createElement(y,{attributes:s,tagName:r},t)}(w=function(e,t,s){this.greedy=!1,this.options=void 0,this.propName=void 0,this.inverseName=void 0,this.factory=void 0,this.options=M({},t),this.propName=e,this.inverseName="no"+(e.charAt(0).toUpperCase()+e.slice(1)),this.factory=s||null}.prototype).createElement=function(e,t){return this.factory?u().createElement(this.factory,t,e):this.replaceWith(e,t)},w.doMatch=function(e,t,s,a){return void 0===a&&(a=!1),function(e,t,s,a){void 0===a&&(a=!1);var i=e.match(t instanceof RegExp?t:new RegExp(t,"i"));return i?M({match:i[0],void:a},s(i),{index:i.index,length:i[0].length,valid:!0}):null}(e,t,s,a)},w.onBeforeParse=function(e,t){return e},w.onAfterParse=function(e,t){return e};var L=function(e){var t=e.attributes,s=e.content,a=void 0===s?"":s,i=e.disableFilters,l=void 0!==i&&i,o=e.disableMatchers,n=void 0!==o&&o,r=e.emptyContent,c=void 0===r?null:r,d=e.filters,p=void 0===d?[]:d,m=e.matchers,g=void 0===m?[]:m,M=e.onAfterParse,y=void 0===M?null:M,E=e.onBeforeParse,D=void 0===E?null:E,I=e.tagName,h=void 0===I?"span":I,T=e.noWrap,j=void 0!==T&&T,b=N(e,["attributes","content","disableFilters","disableMatchers","emptyContent","filters","matchers","onAfterParse","onBeforeParse","tagName","noWrap"]),A=n?[]:g,_=l?[]:p,x=D?[D]:[],S=y?[y]:[];A.forEach((function(e){e.onBeforeParse&&x.push(e.onBeforeParse.bind(e)),e.onAfterParse&&S.push(e.onAfterParse.bind(e))}));var f=x.reduce((function(t,s){return s(t,e)}),a||""),v=new C(f,b,A,_),z=S.reduce((function(t,s){return s(t,e)}),v.parse());return u().createElement(k,{attributes:t,containerTagName:e.containerTagName,emptyContent:c,tagName:h,noWrap:j,parsedContent:0===z.length?void 0:z})};class O extends e.Component{render(){return(0,e.createElement)("p",{className:this.props.className},(0,e.createElement)(L,{content:this.props.audioPlayer}))}}var U=O;class Q extends e.Component{constructor(e){let{attributes:t,setAttributes:s,className:a}=e;super(...arguments),this.episodeRef=React.createRef();let i=!0;t.audio_player&&(i=!1);const l={audioPlayer:t.audio_player||""};this.state={className:a,editing:i,episode:l,episodes:[],setAttributes:s}}componentDidMount(){r()({path:"ssp/v1/episodes"}).then((e=>{let t=[];Object.keys(e).map((function(s){let a={id:e[s].id,title:e[s].title.rendered};t.push(a)})),this.setState({episodes:t})}))}render(){const{editing:s,episodes:a,episode:i,className:n,setAttributes:c}=this.state,p=(0,e.createElement)(l.BlockControls,{key:"controls"},(0,e.createElement)(o.Toolbar,null,(0,e.createElement)(o.Button,{className:"components-icon-button components-toolbar__control",label:(0,t.__)("Select Podcast","seriously-simple-podcasting"),onClick:()=>{this.setState({editing:!0})},icon:"edit"})));return s?(0,e.createElement)(d,{className:n,episodeRef:this.episodeRef,episodes:a,activateEpisode:()=>{const e=this.episodeRef.current.value,t="ssp/v1/audio_player?ssp_podcast_id="+e;r()({path:t}).then((t=>{const s={episodeId:e,audioPlayer:t.audio_player};this.setState({episode:s,editing:!1}),c({id:e,audio_player:s.audioPlayer})}))}}):[p,(0,e.createElement)(U,{className:n,audioPlayer:i.audioPlayer})]}}var P=Q,Y=s(184),F=s.n(Y);class R extends e.Component{render(){const{className:t,episodeId:s,episodeTitle:a,episodeFileUrl:i,episodeData:l}=this.props,{rssFeedUrl:o,subscribeUrls:n,embedCode:r}=l,c=[];return Object.keys(n).forEach(((t,s)=>{const a=n[t].url;if(""!==a){const s=n[t].key,i=n[t].label,l="Subscribe on "+n[t].label;c.push((0,e.createElement)("a",{key:t,href:a,target:"_blank",className:s,title:l,rel:"noopener noreferrer"},(0,e.createElement)("span",null),i))}})),(0,e.createElement)("div",{className:"player-panels player-panels-"+s},(0,e.createElement)("div",{className:"subscribe player-panel subscribe-"+s},(0,e.createElement)("div",{className:"close-btn close-btn-"+s},(0,e.createElement)("span",null),(0,e.createElement)("span",null)),(0,e.createElement)("div",{className:"panel__inner"},(0,e.createElement)("div",{className:"subscribe-icons"},c),(0,e.createElement)("div",{className:"player-panel-row"},(0,e.createElement)("div",{className:"title"},"RSS Feed"),(0,e.createElement)("div",null,(0,e.createElement)("input",{readOnly:!0,value:o,className:"input-rss input-rss-"+s})),(0,e.createElement)("button",{className:"copy-rss copy-rss-"+s})))),(0,e.createElement)("div",{className:"share share-"+s+" player-panel"},(0,e.createElement)("div",{className:"close-btn close-btn-"+s},(0,e.createElement)("span",null),(0,e.createElement)("span",null)),(0,e.createElement)("div",{className:"player-panel-row"},(0,e.createElement)("div",{className:"title"},"Share"),(0,e.createElement)("div",{className:"icons-holder"},(0,e.createElement)("a",{href:"https://www.facebook.com/sharer/sharer.php?u="+i+"&t="+a,target:"_blank",className:"share-icon facebook",title:"Share on Facebook",rel:"noopener noreferrer"},(0,e.createElement)("span",null)),(0,e.createElement)("a",{href:"https://twitter.com/intent/tweet?text="+i+"&url="+a,target:"_blank",className:"share-icon twitter",title:"Share on Twitter",rel:"noopener noreferrer"},(0,e.createElement)("span",null)),(0,e.createElement)("a",{href:i,target:"_blank",className:"share-icon download",title:"Download",rel:"noopener noreferrer"},(0,e.createElement)("span",null)))),(0,e.createElement)("div",{className:"player-panel-row"},(0,e.createElement)("div",{className:"title"},"Link"),(0,e.createElement)("div",null,(0,e.createElement)("input",{readOnly:!0,value:i,className:"input-link input-link-"+s})),(0,e.createElement)("button",{className:"copy-link copy-link-"+s})),(0,e.createElement)("div",{className:"player-panel-row"},(0,e.createElement)("div",{className:"title"},"Embed"),(0,e.createElement)("div",{style:{height:"10px"}},(0,e.createElement)("input",{readOnly:!0,value:r,className:"input-embed input-embed-"+s})),(0,e.createElement)("button",{className:"copy-embed copy-embed-"+s}))))}}var B=R;class Z extends e.Component{render(){try{const{className:t,episodeId:s,episodeImage:a,episodeTitle:i,episodeFileUrl:l,episodeDuration:o,episodeData:n}=this.props,{playerMode:r}=n,c=F()(t,"castos-player",r+"-mode"),d={background:"url("+a+") center center no-repeat",WebkitBackgroundSize:"cover",backgroundSize:"cover"},p="player__artwork player__artwork-"+s,u="play-btn play-btn-"+s,m="pause-btn pause-btn-"+s+" hide",g="/wp-content/plugins/seriously-simple-podcasting/assets/css/images/player/images/icon-loader.svg",M="loader loader-"+s+" hide",N="clip clip-"+s,y="ssp-progress progress-"+s,E="progress__filled progress__filled-"+s,D="playback playback-"+s,I="player-btn__volume player-btn__volume-"+s,h="player-btn__speed player-btn__speed-"+s,T="timer-"+s,j="duration-"+s,b="subscribe-btn-"+s,A="share-btn-"+s;return(0,e.createElement)("div",{className:c,"data-episode":s},(0,e.createElement)("div",{className:"player"},(0,e.createElement)("div",{className:"player__main"},(0,e.createElement)("div",{className:p,style:d}),(0,e.createElement)("div",{className:"player__body"},(0,e.createElement)("div",{className:"currently-playing"},(0,e.createElement)("div",{className:"show"},(0,e.createElement)("strong",null,i)),(0,e.createElement)("div",{className:"episode-title"},i)),(0,e.createElement)("div",{className:"play-progress"},(0,e.createElement)("div",{className:"play-pause-controls"},(0,e.createElement)("button",{title:"Play",className:u},(0,e.createElement)("span",{className:"screen-reader-text"},"Play Episode")),(0,e.createElement)("button",{alt:"Pause",className:m},(0,e.createElement)("span",{className:"screen-reader-text"},"Pause Episode")),(0,e.createElement)("img",{src:g,className:M})),(0,e.createElement)("div",null,(0,e.createElement)("audio",{preload:"none",className:N},(0,e.createElement)("source",{loop:!0,preload:"none",src:l})),(0,e.createElement)("div",{className:y,title:"Seek"},(0,e.createElement)("span",{className:E})),(0,e.createElement)("div",{className:D},(0,e.createElement)("div",{className:"playback__controls"},(0,e.createElement)("button",{className:I,title:"Mute/Unmute"},(0,e.createElement)("span",{className:"screen-reader-text"},"Mute/Unmute Episode")),(0,e.createElement)("button",{"data-skip":"-10",className:"player-btn__rwd",title:"Rewind 10 seconds"},(0,e.createElement)("span",{className:"screen-reader-text"},"Rewind 10 Seconds")),(0,e.createElement)("button",{"data-speed":"1",className:h,title:"Playback Speed"},"1x"),(0,e.createElement)("button",{"data-skip":"30",className:"player-btn__fwd",title:"Fast Forward 30 seconds"},(0,e.createElement)("span",{className:"screen-reader-text"},"Fast Forward 30 seconds"))),(0,e.createElement)("div",{className:"playback__timers"},(0,e.createElement)("time",{id:T},"00:00"),(0,e.createElement)("span",null,"/"),(0,e.createElement)("time",{id:j},o))))),(0,e.createElement)("nav",{className:"player-panels-nav"},(0,e.createElement)("button",{className:"subscribe-btn",id:b,title:"Subscribe"},"Subscribe"),(0,e.createElement)("button",{className:"share-btn",id:A,title:"Share"},"Share"))))),(0,e.createElement)(B,{className:t,episodeId:s,episodeTitle:i,episodeFileUrl:l,episodeData:n}))}catch(e){console.log("Error:",e),this.state={error:e}}}}var W=Z;class J extends e.Component{constructor(e){let{attributes:t,setAttributes:s,className:a}=e;super(...arguments),this.episodeRef=React.createRef();const i={episodeImage:t.image||"",episodeFileUrl:t.file||"",episodeTitle:t.title||"",episodeDuration:t.duration||"",episodeDownloadUrl:t.download||"",episodeData:t.episode_data||""};let l=!0;t.title&&(l=!1),this.state={editing:l,className:a,episodes:[],episode:i,setAttributes:s}}componentDidMount(){r()({path:"ssp/v1/episodes"}).then((e=>{let t=[];Object.keys(e).map((function(s){let a={id:e[s].id,title:e[s].title.rendered};t.push(a)})),this.setState({episodes:t})}))}render(){const{editing:s,episodes:a,episode:i,className:n,setAttributes:c}=this.state,p=(0,e.createElement)(l.BlockControls,{key:"controls"},(0,e.createElement)(o.Toolbar,null,(0,e.createElement)(o.Button,{className:"components-icon-button components-toolbar__control",label:(0,t.__)("Select Podcast","seriously-simple-podcasting"),onClick:()=>{this.setState({editing:!0})},icon:"edit"})));return s?(0,e.createElement)(d,{className:n,episodeRef:this.episodeRef,episodes:a,activateEpisode:()=>{const e=this.episodeRef.current.value;let t="ssp/v1/episodes?include="+e;r()({path:t}).then((t=>{const s={episodeId:e,episodeImage:t[0].episode_player_image,episodeFileUrl:t[0].player_link,episodeTitle:t[0].title.rendered,episodeDuration:t[0].meta.duration,episodeDownloadUrl:t[0].download_link,episodeData:t[0].episode_data};this.setState({key:e,episode:s,editing:!1}),c({id:e,image:s.episodeImage,file:s.episodeFileUrl,title:s.episodeTitle,duration:s.episodeDuration,download:s.episodeDownloadUrl,episode_data:s.episodeData})}))}}):[p,(0,e.createElement)(W,{key:"castos-player",className:this.state.className,episodeId:i.episodeId,episodeImage:i.episodeImage,episodeTitle:i.episodeTitle,episodeFileUrl:i.episodeFileUrl,episodeDuration:i.episodeDuration,episodeData:i.episodeData})]}}var G=J,H=window.wp.serverSideRender,V=s.n(H);class X extends e.Component{constructor(e){let{attributes:t,setAttributes:s,className:a}=e;super(...arguments),this.episodeRef=React.createRef();let i=!0;t.episodeId&&(i=!1),this.state={editing:i,className:a,episodes:[],setAttributes:s,episodeId:t.episodeId}}componentDidMount(){this._isMounted=!0,r()({path:"ssp/v1/episodes?per_page=500&get_additional_options=true"}).then((e=>{let t=[];Object.keys(e).map((function(s){let a={id:e[s].id,title:e[s].title.rendered};t.push(a)})),this.setState({episodes:t})}))}componentWillUnmount(){this._isMounted=!1}render(){const{editing:s,episodes:a,episodeId:i,className:n,setAttributes:r}=this.state,c=(0,e.createElement)(l.BlockControls,{key:"controls"},(0,e.createElement)(o.Toolbar,null,(0,e.createElement)(o.Button,{className:"components-icon-button components-toolbar__control",label:(0,t.__)("Select Podcast","seriously-simple-podcasting"),onClick:()=>{this.setState({editing:!0})},icon:"edit"})));return s?(0,e.createElement)(d,{className:n,episodeRef:this.episodeRef,episodes:a,activateEpisode:()=>{let e=this.episodeRef.current.value;this.setState({episodeId:e,editing:!1}),r({episodeId:e})}}):[c,(0,e.createElement)(V(),{className:n,key:"castos-player",block:"seriously-simple-podcasting/castos-html-player",attributes:{episodeId:i}})]}}var K=X;class q extends e.Component{constructor(e){let{className:t}=e;super(...arguments),this.state={className:t,episodes:[]}}render(){const{className:s}=this.state,{attributes:a,setAttributes:i}=this.props,{showTitle:n,featuredImage:r,featuredImageSize:c,excerpt:d,player:p,playerBelowExcerpt:u,availablePodcasts:m,postsPerPage:g,availableImageSizes:M,orderBy:N,order:y,columnsPerRow:E,titleSize:D,titleUnderImage:I,defaultPodcastId:h}=a;let{selectedPodcast:T}=a;T="0"===T?h:T;const j=(0,e.createElement)(l.InspectorControls,{key:"inspector-controls"},(0,e.createElement)("div",{className:"ssp-controls ssp-edit-podcast-list"},(0,e.createElement)(o.PanelBody,{key:"podcast-list-content",title:(0,t.__)("Content","seriously-simple-podcasting")},(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-show-title"},(0,t.__)("Show Title","seriously-simple-podcasting")),(0,e.createElement)(o.FormToggle,{id:"ssp-podcast-list-show-title",label:(0,t.__)("Show Title","seriously-simple-podcasting"),checked:n,onChange:()=>{i({showTitle:!n})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-show-featured-image"},(0,t.__)("Show Featured Image","seriously-simple-podcasting")),(0,e.createElement)(o.FormToggle,{id:"ssp-podcast-list-show-featured-image",label:(0,t.__)("Show Featured Image","seriously-simple-podcasting"),checked:r,onChange:()=>{i({featuredImage:!r})}})),r&&(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-image-size"},(0,t.__)("Featured Image Size","seriously-simple-podcasting")),(0,e.createElement)(o.SelectControl,{id:"ssp-podcast-list-image-size",value:c,options:M,onChange:e=>{i({featuredImageSize:e})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-show-player"},(0,t.__)("Show Podcast Player","seriously-simple-podcasting")),(0,e.createElement)(o.FormToggle,{id:"ssp-podcast-list-show-player",label:(0,t.__)("Show Podcast Player","seriously-simple-podcasting"),checked:p,onChange:()=>{i({player:!p})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-show-excerpt"},(0,t.__)("Show Podcast Excerpt","seriously-simple-podcasting")),(0,e.createElement)(o.FormToggle,{id:"ssp-podcast-list-show-excerpt",label:(0,t.__)("Show Podcast Excerpt","seriously-simple-podcasting"),checked:d,onChange:()=>{i({excerpt:!d})}}))),(0,e.createElement)(o.PanelBody,{key:"ssp-podcast-list-query",title:(0,t.__)("Query","seriously-simple-podcasting")},(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-podcast"},(0,t.__)("Select Podcast","seriously-simple-podcasting")),(0,e.createElement)(o.SelectControl,{id:"ssp-podcast-list-podcast",value:T,options:m,onChange:e=>{i({selectedPodcast:e})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-posts-per-page"},(0,t.__)("Posts Per Page","seriously-simple-podcasting"),(0,e.createElement)(o.Tooltip,{text:(0,t.__)("For the default global settings, use 0","seriously-simple-podcasting"),htmlFor:"ssp-podcast-list-posts-per-page"},(0,e.createElement)("span",{className:"dashicon dashicons dashicons-info"}))),(0,e.createElement)(o.__experimentalNumberControl,{id:"ssp-podcast-list-posts-per-page",value:g,min:0,onChange:e=>{i({postsPerPage:e})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-order-by"},(0,t.__)("Order By","seriously-simple-podcasting")),(0,e.createElement)(o.SelectControl,{id:"ssp-podcast-list-order-by",value:N,options:[{label:(0,t.__)("Date","seriously-simple-podcasting"),value:"date"},{label:(0,t.__)("ID","seriously-simple-podcasting"),value:"ID"},{label:(0,t.__)("Title","seriously-simple-podcasting"),value:"title"},{label:(0,t.__)("Recorded Date","seriously-simple-podcasting"),value:"recorded"}],onChange:e=>{i({orderBy:e})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-order"},(0,t.__)("Order","seriously-simple-podcasting")),(0,e.createElement)(o.SelectControl,{id:"ssp-podcast-list-order",value:y,options:[{label:"ASC",value:"asc"},{label:"DESC",value:"desc"}],onChange:e=>{i({order:e})}}))),(0,e.createElement)(o.PanelBody,{key:"ssp-podcast-list-style",title:(0,t.__)("Style","seriously-simple-podcasting")},(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-columns-per-row"},(0,t.__)("Columns per row","seriously-simple-podcasting")),(0,e.createElement)(o.__experimentalNumberControl,{id:"ssp-podcast-list-columns-per-row",value:E,min:1,max:6,onChange:e=>{i({columnsPerRow:e})}})),n&&(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-title-size"},(0,t.__)("Title Size","seriously-simple-podcasting")),(0,e.createElement)(o.__experimentalNumberControl,{id:"ssp-podcast-list-title-size",value:D,min:8,max:40,onChange:e=>{i({titleSize:e})}})),n&&r&&(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-title-under-image"},(0,t.__)("Show Title Under Image","seriously-simple-podcasting")),(0,e.createElement)(o.FormToggle,{id:"ssp-podcast-list-title-under",label:(0,t.__)("Show Title Under Image","seriously-simple-podcasting"),checked:I,onChange:()=>{i({titleUnderImage:!I})}})),p&&d&&(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-player-below-excerpt"},(0,t.__)("Show Player Below Excerpt","seriously-simple-podcasting")),(0,e.createElement)(o.FormToggle,{id:"ssp-podcast-list-player-below-excerpt",label:(0,t.__)("Show Player Below Excerpt","seriously-simple-podcasting"),checked:u,onChange:()=>{i({playerBelowExcerpt:!u})}})))));return[j,(0,e.createElement)(V(),{className:s,key:"episode-items",block:"seriously-simple-podcasting/podcast-list",attributes:a})]}}var $=q,ee=window.wp.editPost;class te extends e.Component{render(){const s=sspAdmin.sspPostTypes,a=sspAdmin.isCastosUser,i=wp.data.select("core/editor");if(!i)return;const l=i.getCurrentPostType();return!s instanceof Array||!s.includes(l)||a?void 0:(0,e.createElement)(ee.PluginPostPublishPanel,null,(0,e.createElement)("div",{className:"ssp-post-publish"},(0,e.createElement)("div",{className:"ssp-post-publish__container"},(0,e.createElement)("div",{className:"ssp-post-publish__logos"},(0,e.createElement)("a",{className:"ssp-post-publish__apple",title:"Apple Podcasts",href:"https://podcasters.apple.com/"},(0,e.createElement)("span",null,"Apple Podcasts")),(0,e.createElement)("a",{className:"ssp-post-publish__amazon",title:"Amazon",href:"https://podcasters.amazon.com/"},(0,e.createElement)("span",null,"Amazon")),(0,e.createElement)("a",{className:"ssp-post-publish__spotify",title:"Spotify",href:"https://podcasters.spotify.com/"},(0,e.createElement)("span",null,"Spotify")),(0,e.createElement)("a",{className:"ssp-post-publish__google",title:"Google Podcasts",href:"https://podcasts.google.com/"},(0,e.createElement)("span",null,"Google Podcasts")),(0,e.createElement)("a",{className:"ssp-post-publish__overcast",title:"Overcast",href:"https://overcast.fm/"},(0,e.createElement)("span",null,"Overcast"))),(0,e.createElement)("div",{className:"ssp-post-publish__description"},(0,t.__)("Distribute your podcast everywhere, automatically.","seriously-simple-podcasting")),(0,e.createElement)("div",{className:"ssp-post-publish__btn"},(0,e.createElement)("a",{href:"https://castos.com/podcast-hosting-wordpress/?utm_source=ssp&utm_medium=episode-published-box&utm_campaign=upgrade"},"Try Castos for free")))))}}var se=te;const{addFilter:ae}=wp.hooks,{createHigherOrderComponent:ie}=wp.compose,{Fragment:le}=wp.element,{InspectorControls:oe}=wp.blockEditor,{PanelBody:ne,ToggleControl:re}=wp.components,ce=["core/freeform","core/heading","core/html","core/list","core/media-text","core/paragraph","core/preformatted","core/pullquote","core/quote","core/table","core/verse","core/columns","core/group","core/block","create-block/castos-transcript"],de=["create-block/castos-transcript","core/group"];ae("blocks.registerBlockType","extend-block/ssp-block-settings",((e,t)=>ce.includes(t)?(e.attributes.hasOwnProperty("hideFromFeed")||(e.attributes.hideFromFeed={type:"boolean",default:null}),e):e)),ae("editor.BlockEdit","extend-block/ssp-block-settings",ie((s=>a=>ce.includes(a.name)?(de.includes(a.name)&&null===a.attributes.hideFromFeed&&(a.attributes.hideFromFeed=!0),(0,e.createElement)(le,null,(0,e.createElement)(s,a),(0,e.createElement)(oe,null,(0,e.createElement)(ne,{title:(0,t.__)("Feed Settings"),initialOpen:!0},(0,e.createElement)(re,{label:(0,t.__)("Hide From Podcast RSS Feed"),checked:a.attributes.hideFromFeed,onChange:e=>{a.setAttributes({hideFromFeed:e})}}))))):(0,e.createElement)(s,a))));class pe extends e.Component{constructor(e){let{className:t}=e;super(...arguments),this.state={className:t,episodes:[]}}render(){const{className:s}=this.state,{attributes:a,setAttributes:i}=this.props,{availablePodcasts:n,availableTags:r,selectedTag:c,limit:d,orderBy:p,order:u,selectedPodcast:m}=a,g=(0,e.createElement)(l.InspectorControls,{key:"inspector-controls"},(0,e.createElement)("div",{className:"ssp-controls ssp-edit-podcast-list"},(0,e.createElement)(o.PanelBody,{key:"ssp-podcast-list-query",title:(0,t.__)("Query","seriously-simple-podcasting")},(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-podcast"},(0,t.__)("Select Podcast","seriously-simple-podcasting")),(0,e.createElement)(o.SelectControl,{id:"ssp-podcast-list-podcast",value:m,options:n,onChange:e=>{i({selectedPodcast:e})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-playlist-player-tag"},(0,t.__)("Select Tag","seriously-simple-podcasting")),(0,e.createElement)(o.SelectControl,{id:"ssp-playlist-player-tag",value:c,options:r,onChange:e=>{i({selectedTag:e})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-playlist-player-episodes-limit"},(0,t.__)("Episodes Limit","seriously-simple-podcasting"),(0,e.createElement)(o.Tooltip,{text:(0,t.__)("For the default global settings, use 0. To remove the limit, use -1","seriously-simple-podcasting"),htmlFor:"ssp-playlist-player-episodes-limit"},(0,e.createElement)("span",{className:"dashicon dashicons dashicons-info"}))),(0,e.createElement)(o.__experimentalNumberControl,{id:"ssp-playlist-player-episodes-limit",value:d,min:-1,onChange:e=>{i({limit:e})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-order-by"},(0,t.__)("Order By","seriously-simple-podcasting")),(0,e.createElement)(o.SelectControl,{id:"ssp-podcast-list-order-by",value:p,options:[{label:(0,t.__)("Date","seriously-simple-podcasting"),value:"date"},{label:(0,t.__)("ID","seriously-simple-podcasting"),value:"ID"},{label:(0,t.__)("Title","seriously-simple-podcasting"),value:"title"}],onChange:e=>{i({orderBy:e})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-order"},(0,t.__)("Order","seriously-simple-podcasting")),(0,e.createElement)(o.SelectControl,{id:"ssp-podcast-list-order",value:u,options:[{label:"ASC",value:"asc"},{label:"DESC",value:"desc"}],onChange:e=>{i({order:e})}})))));return[g,(0,e.createElement)(V(),{className:s,key:"playlist-player",block:"seriously-simple-podcasting/playlist-player",attributes:a})]}}var ue=pe,me=window.wp.data;var ge=window.wp.editor,Me=s=>{let{imageId:a,imageUrl:i,onRemoveImage:n,onSelectImage:r}=s;return(0,e.createElement)("div",{className:"ssp-image-uploader"},(0,e.createElement)(l.MediaUploadCheck,null,(0,e.createElement)(l.MediaUpload,{onSelect:r,allowedTypes:["image"],value:a,render:s=>{let{open:a}=s;return(0,e.createElement)("div",{className:"image-wrapper",onClick:a,style:{cursor:"pointer",position:"relative"}},i?(0,e.createElement)("img",{src:i,alt:(0,t.__)("Selected Image","seriously-simple-podcasting"),style:{maxWidth:"100%"}}):(0,e.createElement)("div",{className:"no-image"},(0,e.createElement)("span",null,(0,t.__)("Upload Cover Image","seriously-simple-podcasting"))),i&&(0,e.createElement)(o.IconButton,{icon:"no-alt",label:(0,t.__)("Remove image","seriously-simple-podcasting"),onClick:n,className:"remove-image"}))}})))},Ne=s=>{let{audioUrl:a,onChangeUrl:i,onSelectAudio:n}=s;return(0,e.createElement)("div",{className:"ssp-file-uploader"},(0,e.createElement)(o.TextControl,{value:a,onChange:i,placeholder:(0,t.__)("Enter audio file URL or upload a file","seriously-simple-podcasting")}),(0,e.createElement)(l.MediaUploadCheck,null,(0,e.createElement)(l.MediaUpload,{onSelect:n,allowedTypes:["audio"],render:s=>{let{open:a}=s;return(0,e.createElement)(o.Button,{className:"button w-full",onClick:a},(0,t.__)("Upload File","seriously-simple-podcasting"))}})))},ye=t=>{let{description:s,title:a,url:i}=t;return(0,e.createElement)("div",{className:"ssp-promo-sidebar"},(0,e.createElement)("div",{className:"ssp-promo-sidebar__description-row"},(0,e.createElement)("div",{className:"ssp-promo-sidebar__bell"},(0,e.createElement)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE0Ljg1NyAxNy4wODJDMTYuNzIwMiAxNi44NjE0IDE4LjU1MDkgMTYuNDIxNyAyMC4zMTEgMTUuNzcyQzE4LjgyMDQgMTQuMTIwOCAxNy45OTY3IDExLjk3NDUgMTggOS43NVY5QzE4IDcuNDA4NyAxNy4zNjc5IDUuODgyNTggMTYuMjQyNyA0Ljc1NzM2QzE1LjExNzQgMy42MzIxNCAxMy41OTEzIDMgMTIgM0MxMC40MDg3IDMgOC44ODI2IDMuNjMyMTQgNy43NTczOCA0Ljc1NzM2QzYuNjMyMTYgNS44ODI1OCA2LjAwMDAyIDcuNDA4NyA2LjAwMDAyIDlWOS43NUM2LjAwMzA0IDExLjk3NDYgNS4xNzkwMSAxNC4xMjEgMy42ODgwMiAxNS43NzJDNS40MjEwMiAxNi40MTIgNy4yNDgwMiAxNi44NTcgOS4xNDMwMiAxNy4wODJNMTQuODU3IDE3LjA4MkMxMi45NTkgMTcuMzA3MSAxMS4wNDEgMTcuMzA3MSA5LjE0MzAyIDE3LjA4Mk0xNC44NTcgMTcuMDgyQzE1LjAwMTEgMTcuNTMxOSAxNS4wMzcgMTguMDA5NCAxNC45NjE2IDE4LjQ3NTdDMTQuODg2MyAxOC45NDIgMTQuNzAxOSAxOS4zODQgMTQuNDIzNCAxOS43NjU2QzE0LjE0NSAyMC4xNDcyIDEzLjc4MDMgMjAuNDU3NiAxMy4zNTkyIDIwLjY3MTZDMTIuOTM4MSAyMC44ODU2IDEyLjQ3MjQgMjAuOTk3MiAxMiAyMC45OTcyQzExLjUyNzYgMjAuOTk3MiAxMS4wNjE5IDIwLjg4NTYgMTAuNjQwOCAyMC42NzE2QzEwLjIxOTcgMjAuNDU3NiA5Ljg1NTA5IDIwLjE0NzIgOS41NzY2NCAxOS43NjU2QzkuMjk4MTkgMTkuMzg0IDkuMTEzNzkgMTguOTQyIDkuMDM4NDQgMTguNDc1N0M4Ljk2MzA5IDE4LjAwOTQgOC45OTg5MiAxNy41MzE5IDkuMTQzMDIgMTcuMDgyTTMuMTI0MDIgNy41QzMuNDA1OTkgNS44MjQ5NyA0LjE1NzgyIDQuMjY0NDQgNS4yOTIwMiAzTTE4LjcwOCAzQzE5Ljg0MjIgNC4yNjQ0NCAyMC41OTQxIDUuODI0OTcgMjAuODc2IDcuNSIgc3Ryb2tlPSIjODUzQUVEIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=",alt:a})),(0,e.createElement)("div",{className:"ssp-promo-sidebar__description"},s)),(0,e.createElement)("a",{className:"ssp-promo-sidebar__btn",target:"_blank",rel:"noopener noreferrer",href:i},a,(0,e.createElement)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNyAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgb3BhY2l0eT0iMC41Ij4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjcxOTk1IDExLjc4QzQuNTc5NSAxMS42Mzk0IDQuNTAwNjEgMTEuNDQ4OCA0LjUwMDYxIDExLjI1QzQuNTAwNjEgMTEuMDUxMiA0LjU3OTUgMTAuODYwNiA0LjcxOTk1IDEwLjcyTDkuOTM5OTUgNS41SDYuMjQ5OTVDNi4wNTEwNCA1LjUgNS44NjAyNyA1LjQyMDk4IDUuNzE5NjIgNS4yODAzM0M1LjU3ODk3IDUuMTM5NjggNS40OTk5NSA0Ljk0ODkxIDUuNDk5OTUgNC43NUM1LjQ5OTk1IDQuNTUxMDkgNS41Nzg5NyA0LjM2MDMyIDUuNzE5NjIgNC4yMTk2N0M1Ljg2MDI3IDQuMDc5MDIgNi4wNTEwNCA0IDYuMjQ5OTUgNEgxMS43NUMxMS45NDg5IDQgMTIuMTM5NiA0LjA3OTAyIDEyLjI4MDMgNC4yMTk2N0MxMi40MjA5IDQuMzYwMzIgMTIuNSA0LjU1MTA5IDEyLjUgNC43NVYxMC4yNUMxMi41IDEwLjQ0ODkgMTIuNDIwOSAxMC42Mzk3IDEyLjI4MDMgMTAuNzgwM0MxMi4xMzk2IDEwLjkyMSAxMS45NDg5IDExIDExLjc1IDExQzExLjU1MSAxMSAxMS4zNjAzIDEwLjkyMSAxMS4yMTk2IDEwLjc4MDNDMTEuMDc5IDEwLjYzOTcgMTEgMTAuNDQ4OSAxMSAxMC4yNVY2LjU2TDUuNzc5OTUgMTEuNzhDNS42MzkzMyAxMS45MjA1IDUuNDQ4NyAxMS45OTkzIDUuMjQ5OTUgMTEuOTk5M0M1LjA1MTIgMTEuOTk5MyA0Ljg2MDU4IDExLjkyMDUgNC43MTk5NSAxMS43OFoiIGZpbGw9IiM4NTNBRUQiLz4KPC9nPgo8L3N2Zz4K",alt:a})))},Ee=()=>{const s=(0,me.useSelect)((e=>e("core/editor").getCurrentPostId())),a="series",i=(0,me.useSelect)((e=>e("core/editor").getEditedPostAttribute(a))),l=(0,me.useSelect)((e=>e("core").getEntityRecords("taxonomy",a,{object_id:s}))),o=l?l.filter((e=>i.includes(e.id))):[],n=(0,me.useSelect)((e=>e("core/editor").getEditedPostAttribute("title"))),[r,c]=(0,e.useState)("");return(0,e.useEffect)((()=>{(()=>{const e=n||(0,t.__)("My new episode","seriously-simple-podcasting"),s=o.length>0?o[0].name:(0,t.__)("My Podcast Title","seriously-simple-podcasting"),a=`https://dynamo.castos.com/podcast-covers?utm_source=WordPress&utm_medium=Plugin&utm_campaign=dashboard&t=${encodeURIComponent(e)}&s=${encodeURIComponent(s.replace(" (default)",""))}`;c(a)})()}),[n,o]),r&&(0,e.createElement)(ye,{description:(0,t.__)("Create an episode cover image with our free tool Dynamo.","seriously-simple-podcasting"),title:(0,t.__)("Create Image with Dynamo","seriously-simple-podcasting"),url:r})},De=window.wp.date,Ie=window.moment,he=s.n(Ie),Te=t=>{let{value:s,onChange:a}=t;const i=e=>e?(0,De.dateI18n)("j F, Y",he().utc(e)):"",[l,n]=(0,e.useState)(!1);return(0,e.createElement)("div",null,(0,e.createElement)(o.TextControl,{className:"ssp-calendar-icon",value:i(s),onChange:()=>{},onClick:()=>{n(!l)}}),l&&(0,e.createElement)(o.Popover,{className:"ssp-date-input",position:"bottom center",onClose:()=>setTimeout((()=>{n(!1)}),100)},(0,e.createElement)(o.DateTimePicker,{currentDate:s,onChange:e=>{var t;a((t=e)?he().utc(t).format("YYYY-MM-DD"):"",i(e))},startOfWeek:1})))},je=s=>{let{audioUrl:a,onChangeUrl:i,onFileUploaded:l,fileName:n}=s;const[r,c]=(0,e.useState)("");(0,p.useEffect)((()=>{"undefined"!=typeof upload_credentials&&function(e){const s=new plupload.Uploader(e);s.init(),s.bind("FilesAdded",((e,a)=>{const i=a[0];!function(e){const[t]=e.type.split("/");return"audio"===t||"video"===t}(i)?(d((0,t.__)("Invalid file type. Please select an audio or video file.","seriously-simple-podcasting")),s.removeFile(i)):(d((0,t.__)("Uploading file to Castos Hosting...","seriously-simple-podcasting")),s.start())})),s.bind("BeforeUpload",((e,t)=>{const a=t.name.replace(/[^\w-]+/g,"-").replace(/\s+/g,"-");s.settings.multipart_params={token:upload_credentials.castos_api_token,episode_id:upload_credentials.castos_episode_id,file_name:a}})),s.bind("Error",((e,s)=>{let a=s.message;try{const e=JSON.parse(s.response);e&&e.message&&(a=e.message)}catch(e){}alert((0,t.__)("Error: ","seriously-simple-podcasting")+a)})),s.bind("UploadProgress",((e,s)=>{let a=(0,t.__)("Uploading file to Castos Hosting. You can continue editing this post while the file uploads. Progress: %d%%","seriously-simple-podcasting");a=(0,t.sprintf)(a,s.percent),d(a)})),s.bind("FileUploaded",((e,a,i)=>{const o=JSON.parse(i.response);if(200===o.status){const s=o.file,a=e.files[0].name;d((0,t.__)("Upload complete!","seriously-simple-podcasting")),l(s,a)}s.splice()})),s.bind("UploadComplete",(()=>{setTimeout((()=>{c(""),(0,me.dispatch)("core/notices").removeNotice("ssp-castos-uploader-notice")}),5e3)}))}({runtimes:"html5",browse_button:"ssp_gut_select_file",multi_selection:!1,container:"ssp_gut_upload_container",url:upload_credentials.castos_api_url+"files"})}),[]);const d=e=>{c(e),(0,me.dispatch)("core/notices").createNotice("info",e,{isDismissible:!1,id:"ssp-castos-uploader-notice"})};return(0,e.createElement)("div",{className:"castos-uploader-component"},(0,e.createElement)(o.TextControl,{value:a,onChange:i,placeholder:(0,t.__)("Enter audio file URL or upload a file","seriously-simple-podcasting")}),(0,e.createElement)("div",{id:"ssp_gut_upload_container"},(0,e.createElement)(o.Button,{id:"ssp_gut_select_file",className:"button w-full",onClick:()=>{},isSecondary:!0},(0,t.__)("Select File","seriously-simple-podcasting"))),n&&(0,e.createElement)("div",{style:{marginTop:"8px"}},(0,e.createElement)("span",{className:"ssp-episode-details-label"},(0,t.__)("Original Filename: ","seriously-simple-podcasting")),(0,e.createElement)("span",null,n)),r&&(0,e.createElement)(o.Notice,{className:"ssp-gut-sidebar-notice",status:"info",isDismissible:!1},(0,e.createElement)("p",null,r)))},be=t=>{let{syncStatus:s}=t;return(0,e.createElement)("div",{className:"ssp-sidebar-content"},(0,e.createElement)("div",{className:"ssp-sidebar-field-section"},(0,e.createElement)("div",{className:"ssp-sync-status"},(0,e.createElement)("div",{className:`ssp-sync-label ssp-full-label ${s.status}`,title:s.title},s.title),(0,e.createElement)("div",{className:"ssp-sync-message"},s.message),(0,e.createElement)("div",{className:"ssp-sync-error"},s.error))))};(0,a.registerBlockType)("seriously-simple-podcasting/audio-player",{title:(0,t.__)("Audio Player","seriously-simple-podcasting"),icon:"controls-volumeon",category:"layout",supports:{multiple:!1},attributes:{id:{type:"string"},audio_player:{type:"string",source:"html",selector:"span"}},edit:P,save:(t,s)=>{const{id:a,audio_player:i}=t.attributes;return(0,e.createElement)(U,{className:s,audioPlayer:i})}}),(0,a.registerBlockType)("seriously-simple-podcasting/castos-player",{title:(0,t.__)("Castos Player (OLD)","seriously-simple-podcasting"),icon:"controls-volumeon",category:"layout",supports:{multiple:!1},attributes:{id:{type:"string"},image:{type:"string"},file:{type:"string"},title:{type:"string"},duration:{type:"string"},download:{type:"string"},episode_data:{type:"object"}},edit:G,save:(t,s)=>{const{id:a,image:i,file:l,title:o,duration:n,download:r,episode_data:c}=t.attributes;return c?(0,e.createElement)(W,{className:s,episodeId:a,episodeImage:i,episodeFileUrl:l,episodeTitle:o,episodeDuration:n,episodeDownloadUrl:r,episodeData:c}):""}}),(0,a.registerBlockType)("seriously-simple-podcasting/castos-html-player",{title:(0,t.__)("Castos Player","seriously-simple-podcasting"),icon:"controls-volumeon",category:"layout",attributes:{episodeId:{type:"string"}},edit:K,save:()=>null}),(0,a.registerBlockType)("seriously-simple-podcasting/podcast-list",{title:(0,t.__)("Episode List","seriously-simple-podcasting"),icon:"megaphone",category:"widgets",supports:{multiple:!1},edit:$}),(0,a.registerBlockType)("seriously-simple-podcasting/playlist-player",{title:(0,t.__)("Playlist Player","seriously-simple-podcasting"),icon:"controls-volumeon",category:"widgets",edit:ue}),(0,i.registerPlugin)("post-publish-panel",{render:se}),(0,i.registerPlugin)("episode-sync-status",{render:()=>{if(!(e=>{if(!e)return!1;const t=sspAdmin.sspPostTypes;let s=e.getCurrentPost();return t instanceof Array&&s&&t.includes(s.type)})((0,me.useSelect)((e=>e("core/editor")))))return;const t=(0,me.useSelect)((e=>e("core/editor").isSavingPost()),[]),s=(0,e.useRef)(t),a=(0,me.useSelect)((e=>e("core/editor").getCurrentPost()),[]),{createWarningNotice:i,createInfoNotice:l}=(0,me.useDispatch)("core/notices"),o=s.current&&!t;s.current=t,o&&setTimeout((async()=>{await n(a)}),1e3);const n=async e=>{try{const t=await p(e);if(t&&t.episode_data){let e=t.episode_data.syncStatus;if(!e||"none"===e.status)return;d(e),c(e),document.dispatchEvent(new CustomEvent("changedSyncStatus",{detail:{syncStatus:e}}))}}catch(e){return console.error("Error:",e),null}},c=e=>{let t=document.querySelector(".js-ssp-sync-label");t.textContent=e.title,t.setAttribute("title",e.title),t.classList.remove("failed","synced","syncing"),t.classList.add(e.status),document.querySelector(".js-ssp-sync-message").textContent=e.message,document.querySelector(".js-ssp-sync-description").textContent=e.error},d=e=>{const t="ssp-sync-notice";let s=e.message;e.isSynced?l(s,{type:"snackbar",id:t}):(e.error&&(s+=" "+e.error),i(s,{id:t}))},p=async e=>{const t=await(async e=>{try{const t=await r()({path:"/wp/v2/types"});return t[e]&&t[e].rest_base?t[e].rest_base:(console.warn(`Post type "${e}" not found.`),null)}catch(e){return console.error("There was a problem with the fetch operation:",e),null}})(e.type);return await r()({path:`/wp/v2/${t}/${e.id}`})}}}),(0,i.registerPlugin)("ssp-episode-meta-sidebar",{render:()=>{var s;const a=(0,me.useSelect)((e=>e("core/editor")));if(!sspAdmin.sspPostTypes.includes(a.getCurrentPostType()))return;const i=sspAdmin.isItunesEnabled,l=sspAdmin.isCastosUser,n=l?null===(s=a.getEditedPostAttribute("episode_data"))||void 0===s?void 0:s.syncStatus:null,r=a.getEditedPostAttribute("meta");if(!r){const{createNotice:e}=(0,me.useDispatch)("core/notices");return void e("warning",(0,t.__)("We noticed that your custom post type does not support custom fields. Please ensure that custom fields are supported. [URL]Learn more[/URL]","seriously-simple-podcasting").replace("[URL]",'<a href="https://support.castos.com/article/453-using-seriously-simple-podcasting-with-custom-post-types" target="_blank" rel="noopener">').replace("[/URL]","</a>"),{isDismissible:!0,id:"ssp-gutenberg-meta",__unstableHTML:!0})}const c=r.episode_type||"audio",d=r.audio_file||"",p=r.cover_image_id||"",u=r.cover_image||"",m=r.duration||"",g=r.filesize||"",M=r.date_recorded||"",N=r.explicit||"",y=r.block||"",E=r.podmotor_file_id||"",D=r.filesize_raw||"",I=r.castos_file_data||"",h=r.itunes_episode_number||"",T=r.itunes_title||"",j=r.itunes_season_number||"",b=r.itunes_episode_type||"",[A,_]=(0,e.useState)(c),[x,S]=(0,e.useState)(d),[f,v]=(0,e.useState)(p),[z,w]=(0,e.useState)(u),[C,k]=(0,e.useState)(m),[L,O]=(0,e.useState)(g),[U,Q]=(0,e.useState)(M),[P,Y]=(0,e.useState)(N),[R,B]=(0,e.useState)(y),[Z,W]=(0,e.useState)(E),[J,G]=(0,e.useState)(D),[H,V]=(0,e.useState)(I),[X,K]=(0,e.useState)(h),[q,$]=(0,e.useState)(T),[ee,te]=(0,e.useState)(j),[se,ae]=(0,e.useState)(b),[ie,le]=(0,e.useState)(n),[oe,ne]=(0,e.useState)(!0),[re,ce]=(0,e.useState)(!0),[de,pe]=(0,e.useState)(!0),[ue,De]=(0,e.useState)(!0),[Ie,he]=(0,e.useState)(!0),Ae=wp.hooks.applyFilters("ssp.episodeMetaSidebarEnd",null),{editPost:_e}=(0,me.useDispatch)("core/editor"),xe=(e,t,s)=>{var a;const i={audio_file:S,episode_type:_,cover_image_id:v,cover_image:w,duration:k,filesize:O,date_recorded:Q,explicit:Y,block:B,podmotor_file_id:W,filesize_raw:G,castos_file_data:V,itunes_episode_number:K,itunes_title:$,itunes_season_number:te,itunes_episode_type:ae};"boolean"==typeof t&&(t=t?"on":""),((e,t)=>{_e({meta:{[e]:t}})})(e,t),null===(a=i[e])||void 0===a||a.call(i,t),s&&document.dispatchEvent(new CustomEvent("changedSSPGutField",{detail:{field:e,value:t}}))};return(0,e.useEffect)((()=>{const e=e=>{xe(e.detail.field,e.detail.value)},t=e=>{le(e.detail.syncStatus)};return document.addEventListener("changedSSPField",e),document.addEventListener("changedSyncStatus",t),()=>{document.removeEventListener("changedSSPField",e),document.removeEventListener("changedSyncStatus",t)}}),[]),(0,e.createElement)(ge.PluginSidebar,{name:"ssp-episode-meta-sidebar",title:(0,t.__)("Seriously Simple Podcasting","seriously-simple-podcasting"),className:"ssp-episode-meta-sidebar",icon:(0,e.createElement)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIKCSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgoJPGNpcmNsZSBjeD0iMTgiIGN5PSIxOCIgcj0iMTYuODI0NSIgZmlsbD0iIzJBMkEyQSIvPgoJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiCgkJICBkPSJNMTggMzZDMjcuOTQxMSAzNiAzNiAyNy45NDExIDM2IDE4QzM2IDguMDU4ODcgMjcuOTQxMSAwIDE4IDBDOC4wNTg4NyAwIDAgOC4wNTg4NyAwIDE4QzAgMjcuOTQxMSA4LjA1ODg3IDM2IDE4IDM2Wk0xOCAzNS4yNjUzQzI3LjUzNTQgMzUuMjY1MyAzNS4yNjUzIDI3LjUzNTQgMzUuMjY1MyAxOEMzNS4yNjUzIDguNDY0NjMgMjcuNTM1NCAwLjczNDY5NCAxOCAwLjczNDY5NEM4LjQ2NDYyIDAuNzM0Njk0IDAuNzM0NjggOC40NjQ2MyAwLjczNDY4IDE4QzAuNzM0NjggMjcuNTM1NCA4LjQ2NDYyIDM1LjI2NTMgMTggMzUuMjY1M1oiCgkJICBmaWxsPSIjMkEyQTJBIi8+Cgk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIKCQkgIGQ9Ik05LjU2MzM4IDEyLjA3MjNDOS43NzUyMSAxMS45NDM0IDEwLjA0OSAxMS43NzY5IDEwLjM1OTIgMTEuODI4NUMxMC41Mjg3IDExLjg1NjggMTAuNzA5IDExLjk5MzcgMTAuOTE2OSAxMi4xNTE0QzExLjI0OTggMTIuNDA0IDExLjY1MzMgMTIuNzEwMiAxMi4xOTU5IDEyLjcxMDJDMTIuODIyIDEyLjcxMDIgMTMuMTUxNiAxMi41NjIgMTMuMzQyOCAxMi40NzYxQzEzLjQyMDggMTIuNDQxIDEzLjQ3NTggMTIuNDE2MyAxMy41MTg0IDEyLjQxNjNDMTMuNjY1MyAxMi40MTYzIDEzLjg4NTcgMTIuNjM2NyAxMy41OTE4IDEyLjg1NzFDMTMuNTQzNCAxMi44OTM0IDEzLjQ4MyAxMi45NDM3IDEzLjQxMSAxMy4wMDM3QzEzLjA0NTkgMTMuMzA3NiAxMi4zODE3IDEzLjg2MDYgMTEuNDYxMiAxNC4xMDYxQzExLjI4NjMgMTQuMTUyNyAxMS4xMjQzIDE0LjE5MiAxMC45NzQ3IDE0LjIyODJDMTAuMTgxOCAxNC40MjAzIDkuNzM2NDQgMTQuNTI4MyA5LjU1MTAxIDE1LjIwODFDOS4zMzA2IDE2LjAxNjMgOS40Nzc1NCAxOS4yNDkgMTIuMTk1OSAxOS4yNDlDMTMuMzIxOSAxOS4yNDkgMTQuMjA4NCAxOC44MDc4IDE1LjI0NyAxOC4yOTA5QzE2LjcxNTcgMTcuNTU5OSAxOC40ODg3IDE2LjY3NzUgMjEuNjczNSAxNi42Nzc1QzI3LjExMDIgMTYuNjc3NSAyOC4yMTIyIDIxLjMwNjEgMjguMjEyMiAyMy42NTcxQzI4LjIxMjIgMjYuMDA4MSAyNS41NjczIDI5LjI0MDggMjEuMDEyMiAyOS4yNDA4QzE3LjgwNzkgMjkuMjQwOCAxNi43MTY4IDI4LjE2MTUgMTYuMTUwNSAyNy42MDEzQzE2LjA3MjggMjcuNTI0NCAxNi4wMDQ5IDI3LjQ1NzMgMTUuOTQyOCAyNy40MDQxQzE2LjMxMDIgMjguMzU5MiAxOC4xNDY5IDMwLjQwMTYgMjEuNjczNSAzMC4zNDI4QzIxLjYyNDUgMzAuNjEyMiAyMC40MDk4IDMxLjE1MSAxNS45NDI4IDMxLjE1MUMxMC4zNTkyIDMxLjE1MSA2LjAyNDQ4IDI2LjE1NTEgNi4wMjQ0OCAyMS42NzM0QzYuMDI0NDggMTguNDgzNCA2Ljg0MzQxIDE2LjYzMzUgNy4zMTU0NCAxNS41NjcxQzcuNTA2NTYgMTUuMTM1NCA3LjY0MDgxIDE0LjgzMjEgNy42NDA4MSAxNC42MjA0QzcuNjQwODEgMTMuOTM2IDYuODc1NzggMTMuMjUxNiA2LjE3NzE1IDEyLjYyNjZDNi4xMjU3OSAxMi41ODA3IDYuMDc0NzkgMTIuNTM1MSA2LjAyNDQ4IDEyLjQ4OThDNS4yODk3OSAxMS44Mjg1IDUuMTQyODUgMTAuNTc5NiA1LjIxNjMyIDEwLjM1OTJDNS4yODk3OSAxMC4xMzg4IDUuNTgzNjYgMTAuMDY1MyA1LjY1NzEzIDEwLjUwNjFDNS43MzA2IDEwLjk0NjkgNi40NjUzIDExLjM4NzcgNi45Nzk1OCAxMS4zODc3QzcuMTkwMjMgMTEuMzg3NyA3LjMwMjI3IDExLjM2MzEgNy40MTE2MyAxMS4zMzlDNy41NjkyNiAxMS4zMDQzIDcuNzIxMzIgMTEuMjcwOSA4LjE1NTA5IDExLjMxNDNDOC41MjIxMiAxMS4zNTEgOC45NjYxMSAxMS44MTU4IDkuMjIyODMgMTIuMDg0NUM5LjI2MzkxIDEyLjEyNzUgOS4zMDAyIDEyLjE2NTUgOS4zMzA2IDEyLjE5NTlDOS4zOTU5MyAxMi4xNzQxIDkuNDc0MTUgMTIuMTI2NSA5LjU2MzM4IDEyLjA3MjNaTTE2LjM4MzcgMjUuNDIwNEMxNi42Njc3IDI1LjQyMDQgMTYuODk4IDI1LjE5MDIgMTYuODk4IDI0LjkwNjFDMTYuODk4IDI0LjYyMjEgMTYuNjY3NyAyNC4zOTE4IDE2LjM4MzcgMjQuMzkxOEMxNi4wOTk2IDI0LjM5MTggMTUuODY5NCAyNC42MjIxIDE1Ljg2OTQgMjQuOTA2MUMxNS44Njk0IDI1LjE5MDIgMTYuMDk5NiAyNS40MjA0IDE2LjM4MzcgMjUuNDIwNFoiCgkJICBmaWxsPSJ3aGl0ZSIvPgoJPHBhdGgKCQlkPSJNMTMuODEyMiA4Ljk2MzI4QzEzLjUxODQgOS4xOTE4NSAxMy40NzQgOS43NzIyNyAxMy43NzYgMTAuMDY5QzE0LjA3ODQgMTAuNDExNyAxNC40NzM1IDEwLjQwNTUgMTQuODgxNyAxMC4xMDUyQzE3LjYzMjYgOC4wODE2NSAyNC45MDYxIDguMTU1MTIgMjguMDY1MyAxMC4wNjlDMjguNDIzMSAxMC4yODU3IDI4Ljg1MDcgMTAuMzM4MyAyOS4xMjQ1IDEwLjA1OTZDMjkuMTI0NSAxMC4wNTk2IDI5LjEyNDUgMTAuMDU5NiAyOS4xNDc0IDEwLjAzNjNDMjkuNDQ0IDkuNzM0MzQgMjkuNDYxMiA5LjE4OTQ4IDI5LjA5MTUgOC45MzE0N0MyNS4zNDY5IDYuMzE4MzggMTcuMTE4NCA2LjM5MTg1IDEzLjgxMjIgOC45NjMyOFoiCgkJZmlsbD0iI0NGMzUyOSIvPgoJPHBhdGgKCQlkPSJNMTUuNTc1NSAxMS42MDgyQzE1LjEzNDcgMTEuODI4NiAxNS4xMzQ3IDEyLjM0MjkgMTUuMzU1MSAxMi43MTAyQzE1LjU3NTUgMTMuMDc3NiAxNi4wMzk1IDEzLjA4NSAxNi40NTcxIDEyLjg1NzJDMTkuNTY2IDExLjQ2ODYgMjMuMjY4MSAxMS4zMTE1IDI2LjQ0OSAxMi45MzA2QzI2LjgwNDQgMTMuMTExNSAyNy40MDQxIDEzLjE1MSAyNy42MjQ1IDEyLjcxMDJDMjcuODM0OSAxMi4yODk1IDI3Ljg0NDkgMTEuOTAyMSAyNy4zMzA2IDExLjYwODJDMjQuMTgwMSA5LjgwNzkgMTkuMTY2IDkuNTk4MzQgMTUuNTc1NSAxMS42MDgyWiIKCQlmaWxsPSIjQ0YzNTI5Ii8+Cgk8cGF0aAoJCWQ9Ik0xNy4xOTE4IDE0LjQ3MzRDMTYuNzUxIDE0LjY5MzggMTYuNjc3NSAxNS4xNzE0IDE2Ljg5NzkgMTUuNTAyQzE3LjI0MDggMTYuMDE2MyAxNy43MDYxIDE1Ljg1ODEgMTguMTAyMSAxNS43MTIyQzIwLjc5MTggMTQuNzIwOSAyMi4yNjEyIDE0Ljc2NzMgMjQuODMyNiAxNS42NzZDMjUuMzUzOSAxNS44NjAyIDI1LjcxNDMgMTUuODY5NCAyNi4wMDgyIDE1LjUwMkMyNi4yMjg2IDE1LjEzNDcgMjYuMTg0MiAxNC42Mzg4IDI1LjY0MDggMTQuNEMyMi40ODQgMTMuMDEyNSAxOS44MzY3IDEzLjAwNDEgMTcuMTkxOCAxNC40NzM0WiIKCQlmaWxsPSIjQ0YzNTI5Ii8+Cjwvc3ZnPgo=",className:"ssp-open",alt:"SSP Icon"})},(0,e.createElement)(o.PanelBody,null,(0,e.createElement)("h2",{className:F()("ssp-accordion",{open:re}),onClick:()=>ce(!re),"aria-expanded":re},(0,t.__)("Episode Media","seriously-simple-podcasting")),re&&(0,e.createElement)("div",{className:"ssp-sidebar-content"},(0,e.createElement)("div",{className:"ssp-sidebar-field-section"},(0,e.createElement)("h3",null,(0,t.__)("Episode Type","seriously-simple-podcasting")),(0,e.createElement)(o.RadioControl,{selected:A,options:[{label:(0,t.__)("Audio","seriously-simple-podcasting"),value:"audio"},{label:(0,t.__)("Video","seriously-simple-podcasting"),value:"video"}],onChange:e=>xe("episode_type",e,!0)})),(0,e.createElement)("div",{className:"ssp-sidebar-field-section"},(0,e.createElement)("h3",null,(0,t.__)("Episode File","seriously-simple-podcasting")),!l&&(0,e.createElement)(Ne,{audioUrl:x,onChangeUrl:e=>xe("audio_file",e,!0),onSelectAudio:e=>xe("audio_file",e.url,!0)}),l&&(0,e.createElement)(je,{audioUrl:x,onChangeUrl:e=>xe("audio_file",e,!0),fileName:(()=>{const e=H?JSON.parse(H):"";return null==e?void 0:e.name})(),onFileUploaded:(e,t)=>{xe("audio_file",e.file_path,!0),xe("podmotor_file_id",e.id.toString(),!0),xe("filesize_raw",e.file_size.toString(),!0),xe("filesize",plupload.formatSize(e.file_size),!0),xe("duration",e.file_duration,!0),xe("castos_file_data",JSON.stringify({path:e.file_path,name:t}),!1)}}),(0,e.createElement)("div",{className:"description"},(0,t.__)("Upload audio episode files as MP3 or M4A, video episodes as MP4, or paste the file URL.","seriously-simple-podcasting"))),(0,e.createElement)("div",{className:"ssp-sidebar-field-section"},(0,e.createElement)(ye,{description:(0,t.__)("Get lower bandwidth fees, file storage, and better stats when hosting with Castos.","seriously-simple-podcasting"),title:(0,t.__)("Try Castos for free","seriously-simple-podcasting"),url:"https://castos.com/podcast-hosting-wordpress/?utm_source=ssp&amp;utm_medium=episode-file-box&amp;utm_campaign=upgrade"})))),(0,e.createElement)(o.PanelBody,null,(0,e.createElement)("h2",{className:F()("ssp-accordion",{open:de}),onClick:()=>pe(!de),"aria-expanded":de},(0,t.__)("Episode Image","seriously-simple-podcasting")),de&&(0,e.createElement)("div",{className:"ssp-sidebar-content"},(0,e.createElement)("div",{className:"ssp-sidebar-field-section"},(0,e.createElement)(Me,{imageId:f,imageUrl:z,onRemoveImage:e=>{e.stopPropagation(),xe("cover_image","",!0),xe("cover_image_id","",!0)},onSelectImage:e=>{xe("cover_image",e.url,!0),xe("cover_image_id",e.id.toString()+"",!0)}}),(0,e.createElement)("div",{className:"description"},(0,t.__)("The episode image should be square to display properly in podcasting apps and directories, and should be at least 300x300px in size.","seriously-simple-podcasting"))),(0,e.createElement)("div",{className:"ssp-sidebar-field-section"},(0,e.createElement)(Ee,null)))),(0,e.createElement)(o.PanelBody,null,(0,e.createElement)("h2",{className:F()("ssp-accordion",{open:ue}),onClick:()=>De(!ue),"aria-expanded":ue},(0,t.__)("Episode Meta","seriously-simple-podcasting")),ue&&(0,e.createElement)("div",{className:"ssp-sidebar-content"},(0,e.createElement)("div",{className:"ssp-sidebar-field-section"},(0,e.createElement)("h3",null,(0,t.__)("Duration","seriously-simple-podcasting")),(0,e.createElement)(o.TextControl,{__nextHasNoMarginBottom:!0,value:C,onChange:e=>xe("duration",e,!0)}),(0,e.createElement)("div",{className:"description"},(0,t.__)("Duration of podcast file for display (calculated automatically if possible).","seriously-simple-podcasting"))),(0,e.createElement)("div",{className:"ssp-sidebar-field-section"},(0,e.createElement)("h3",null,(0,t.__)("File Size","seriously-simple-podcasting")),(0,e.createElement)(o.TextControl,{__nextHasNoMarginBottom:!0,value:L,onChange:e=>xe("filesize",e,!0)}),(0,e.createElement)("div",{className:"description"},(0,t.__)("Size of the podcast file for display (calculated automatically if possible).","seriously-simple-podcasting"))),(0,e.createElement)("div",{className:"ssp-sidebar-field-section"},(0,e.createElement)("h3",null,(0,t.__)("Date Recorded","seriously-simple-podcasting")),(0,e.createElement)(Te,{value:U,onChange:(e,t)=>{xe("date_recorded",e,!0),document.dispatchEvent(new CustomEvent("changedSSPGutField",{detail:{field:"date_recorded_display",value:t}}))}})),(0,e.createElement)("div",{className:"ssp-sidebar-field-section"},(0,e.createElement)(o.CheckboxControl,{label:(0,t.__)("Mark this episode as explicit.","seriously-simple-podcasting"),checked:P,onChange:e=>xe("explicit",e,!0)})),(0,e.createElement)("div",{className:"ssp-sidebar-field-section"},(0,e.createElement)(o.CheckboxControl,{label:(0,t.__)("Block this episode from appearing in the iTunes & Google Play podcast libraries.","seriously-simple-podcasting"),checked:R,onChange:e=>xe("block",e,!0)})))),i&&(0,e.createElement)(o.PanelBody,null,(0,e.createElement)("h2",{className:F()("ssp-accordion",{open:Ie}),onClick:()=>he(!Ie),"aria-expanded":Ie},(0,t.__)("ITunes","seriously-simple-podcasting")),Ie&&(0,e.createElement)("div",{className:"ssp-sidebar-content"},(0,e.createElement)("div",{className:"ssp-sidebar-field-section"},(0,e.createElement)("h3",null,(0,t.__)("iTunes Episode Number","seriously-simple-podcasting")),(0,e.createElement)(o.TextControl,{__nextHasNoMarginBottom:!0,value:X,type:"number",onChange:e=>xe("itunes_episode_number",e,!0)}),(0,e.createElement)("div",{className:"description"},(0,t.__)("The iTunes episode number. Leave blank if none.","seriously-simple-podcasting"))),(0,e.createElement)("div",{className:"ssp-sidebar-field-section"},(0,e.createElement)("h3",null,(0,t.__)("iTunes Episode Title (Exclude Your Podcast / Show Number)","seriously-simple-podcasting")),(0,e.createElement)(o.TextControl,{__nextHasNoMarginBottom:!0,value:q,onChange:e=>xe("itunes_title",e,!0)}),(0,e.createElement)("div",{className:"description"},(0,t.__)("The iTunes Episode Title. NO Podcast / Show Number Should Be Included.","seriously-simple-podcasting"))),(0,e.createElement)("div",{className:"ssp-sidebar-field-section"},(0,e.createElement)("h3",null,(0,t.__)("iTunes Season Number","seriously-simple-podcasting")),(0,e.createElement)(o.TextControl,{__nextHasNoMarginBottom:!0,value:ee,type:"number",onChange:e=>xe("itunes_season_number",e,!0)}),(0,e.createElement)("div",{className:"description"},(0,t.__)("The iTunes Season Number. Leave Blank If None.","seriously-simple-podcasting"))),(0,e.createElement)("div",{className:"ssp-sidebar-field-section"},(0,e.createElement)("h3",null,(0,t.__)("iTunes Episode Type","seriously-simple-podcasting")),(0,e.createElement)(o.SelectControl,{value:se,options:[{label:(0,t.__)("Please Select","seriously-simple-podcasting"),value:""},{label:(0,t.__)("Full: For Normal Episodes","seriously-simple-podcasting"),value:"full"},{label:(0,t.__)("Trailer: Promote an Upcoming Show","seriously-simple-podcasting"),value:"trailer"},{label:(0,t.__)("Bonus: For Extra Content Related To a Show","seriously-simple-podcasting"),value:"bonus"}],onChange:e=>xe("itunes_episode_type",e,!0)})))),ie&&(0,e.createElement)(o.PanelBody,null,(0,e.createElement)("h2",{className:F()("ssp-accordion",{open:oe}),onClick:()=>ne(!oe),"aria-expanded":oe},(0,t.__)("Sync Status","seriously-simple-podcasting")),oe&&(0,e.createElement)(be,{syncStatus:ie})),Ae)}}),(0,i.registerPlugin)("ssp-sidebar-panel",{render:()=>{const s=(0,me.useSelect)((e=>e("core/editor")));if(!sspAdmin.sspPostTypes.includes(s.getCurrentPostType()))return;const[a,i]=(0,e.useState)(!0),l=s.getEditedPostAttribute("meta");if(!l)return;const n=!!l.audio_file,{openGeneralSidebar:r}=(0,me.useDispatch)("core/edit-post");return(0,e.createElement)(ge.PluginPostStatusInfo,null,(0,e.createElement)("div",{className:"ssp-sidebar-panel"},(0,e.createElement)("h2",{className:F()("ssp-accordion",{open:a}),onClick:()=>i(!a),"aria-expanded":a},(0,t.__)("Seriously Simple Podcasting","seriously-simple-podcasting"),(0,e.createElement)("span",null,(0,e.createElement)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",className:"components-panel__arrow","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})))),a&&(0,e.createElement)("div",{className:"ssp-sidebar-content"},n&&(0,e.createElement)("div",{className:"ssp-file-info uploaded"},(0,e.createElement)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIKCSBmaWxsPSJub25lIgoJIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+Cgk8cGF0aAoJCWQ9Ik03LjUgMTAuNjI1TDkuMzc1IDEyLjVMMTIuNSA4LjEyNU0xNy41IDEwQzE3LjUgMTAuOTg0OSAxNy4zMDYgMTEuOTYwMiAxNi45MjkxIDEyLjg3MDFDMTYuNTUyMiAxMy43ODAxIDE1Ljk5OTcgMTQuNjA2OSAxNS4zMDMzIDE1LjMwMzNDMTQuNjA2OSAxNS45OTk3IDEzLjc4MDEgMTYuNTUyMiAxMi44NzAxIDE2LjkyOTFDMTEuOTYwMiAxNy4zMDYgMTAuOTg0OSAxNy41IDEwIDE3LjVDOS4wMTUwOSAxNy41IDguMDM5ODIgMTcuMzA2IDcuMTI5ODcgMTYuOTI5MUM2LjIxOTkzIDE2LjU1MjIgNS4zOTMxNCAxNS45OTk3IDQuNjk2NyAxNS4zMDMzQzQuMDAwMjYgMTQuNjA2OSAzLjQ0NzgxIDEzLjc4MDEgMy4wNzA5IDEyLjg3MDFDMi42OTM5OSAxMS45NjAyIDIuNSAxMC45ODQ5IDIuNSAxMEMyLjUgOC4wMTA4OCAzLjI5MDE4IDYuMTAzMjIgNC42OTY3IDQuNjk2N0M2LjEwMzIyIDMuMjkwMTggOC4wMTA4OCAyLjUgMTAgMi41QzExLjk4OTEgMi41IDEzLjg5NjggMy4yOTAxOCAxNS4zMDMzIDQuNjk2N0MxNi43MDk4IDYuMTAzMjIgMTcuNSA4LjAxMDg4IDE3LjUgMTBaIgoJCXN0cm9rZT0iIzEwQjk4MSIgc3Ryb2tlLXdpZHRoPSIxLjUiCgkJc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgoJCXN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==",className:"ssp-file-upload-status",alt:(0,t.__)("Episode file uploaded","seriously-simple-podcasting")}),(0,e.createElement)("span",null,(0,t.__)("Episode file uploaded","seriously-simple-podcasting"))),!n&&(0,e.createElement)("div",{className:"ssp-file-info not-uploaded"},(0,e.createElement)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkuMzc1IDkuMzc1TDkuNDA5MTcgOS4zNTgzM0M5LjUxNjAyIDkuMzA0OTUgOS42MzU5NCA5LjI4MzMgOS43NTQ3MiA5LjI5NTk2QzkuODczNSA5LjMwODYyIDkuOTg2MTYgOS4zNTUwNSAxMC4wNzk0IDkuNDI5NzZDMTAuMTcyNiA5LjUwNDQ2IDEwLjI0MjQgOS42MDQzMiAxMC4yODA2IDkuNzE3NDlDMTAuMzE4OSA5LjgzMDY2IDEwLjMyMzggOS45NTI0MiAxMC4yOTUgMTAuMDY4M0w5LjcwNSAxMi40MzE3QzkuNjc1OTUgMTIuNTQ3NiA5LjY4MDc4IDEyLjY2OTUgOS43MTg5MSAxMi43ODI4QzkuNzU3MDQgMTIuODk2MSA5LjgyNjg3IDEyLjk5NjEgOS45MjAxMSAxMy4wNzFDMTAuMDEzNCAxMy4xNDU4IDEwLjEyNjEgMTMuMTkyMyAxMC4yNDUgMTMuMjA1QzEwLjM2MzkgMTMuMjE3NyAxMC40ODM5IDEzLjE5NiAxMC41OTA4IDEzLjE0MjVMMTAuNjI1IDEzLjEyNU0xNy41IDEwQzE3LjUgMTAuOTg0OSAxNy4zMDYgMTEuOTYwMiAxNi45MjkxIDEyLjg3MDFDMTYuNTUyMiAxMy43ODAxIDE1Ljk5OTcgMTQuNjA2OSAxNS4zMDMzIDE1LjMwMzNDMTQuNjA2OSAxNS45OTk3IDEzLjc4MDEgMTYuNTUyMiAxMi44NzAxIDE2LjkyOTFDMTEuOTYwMiAxNy4zMDYgMTAuOTg0OSAxNy41IDEwIDE3LjVDOS4wMTUwOSAxNy41IDguMDM5ODIgMTcuMzA2IDcuMTI5ODcgMTYuOTI5MUM2LjIxOTkzIDE2LjU1MjIgNS4zOTMxNCAxNS45OTk3IDQuNjk2NyAxNS4zMDMzQzQuMDAwMjYgMTQuNjA2OSAzLjQ0NzgxIDEzLjc4MDEgMy4wNzA5IDEyLjg3MDFDMi42OTM5OSAxMS45NjAyIDIuNSAxMC45ODQ5IDIuNSAxMEMyLjUgOC4wMTA4OCAzLjI5MDE4IDYuMTAzMjIgNC42OTY3IDQuNjk2N0M2LjEwMzIyIDMuMjkwMTggOC4wMTA4OCAyLjUgMTAgMi41QzExLjk4OTEgMi41IDEzLjg5NjggMy4yOTAxOCAxNS4zMDMzIDQuNjk2N0MxNi43MDk4IDYuMTAzMjIgMTcuNSA4LjAxMDg4IDE3LjUgMTBaTTEwIDYuODc1SDEwLjAwNjdWNi44ODE2N0gxMFY2Ljg3NVoiIHN0cm9rZT0iI0Y0M0Y1RSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K",className:"ssp-file-upload-status",alt:(0,t.__)("Episode file missing","seriously-simple-podcasting")}),(0,e.createElement)("span",null,(0,t.__)("Episode file missing","seriously-simple-podcasting"))),(0,e.createElement)(o.Button,{className:"ssp-open-meta-btn",onClick:()=>{r("ssp-episode-meta-sidebar/ssp-episode-meta-sidebar")}},(0,t.__)("Manage your Episode","seriously-simple-podcasting")))))}})}()}();